<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Vo Van Duy</title>
<style>
  :root{
    --bg:#071024;
    --card:#0f1724;
    --accent:#ffbf00;
    --muted:#9aa7bf;
    --glass: rgba(255,255,255,0.03);
  }
  html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
  body{
    background: radial-gradient(ellipse at 20% 10%, rgba(255,191,0,0.06), transparent 10%),
                linear-gradient(180deg,#03102c 0%, #071024 100%);
    color:#e6eef8;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
  }
  .container{
    width:960px;
    max-width:95%;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;
    box-shadow:0 10px 30px rgba(2,6,23,0.6);
    padding:22px;
    display:grid;
    grid-template-columns: 1fr 320px;
    gap:18px;
  }

  /* Left: Game area */
  .game{
    background:var(--card);
    border-radius:12px;
    padding:18px;
    box-shadow: inset 0 -8px 24px rgba(0,0,0,0.5);
  }
  .title{display:flex;align-items:center;gap:12px;}
  .logo{
    width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#ff7a00);
    display:flex;align-items:center;justify-content:center;font-weight:700;color:#111;
    font-size:20px;box-shadow:0 6px 18px rgba(255,191,0,0.08);
  }
  h1{margin:0;font-size:20px;}
  p.lead{margin:6px 0 12px;color:var(--muted);font-size:13px;}

  /* reels */
  .reels{
    display:flex;gap:12px;justify-content:center;margin:18px 0;
  }
  .reel{
    width:110px;height:110px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:44px;
    box-shadow:0 6px 16px rgba(1,6,20,0.6);
    user-select:none;
  }
  .controls{
    display:flex;align-items:center;gap:12px;margin-top:10px;flex-wrap:wrap;
  }
  .btn{
    background:linear-gradient(180deg,var(--accent),#ff8c00);
    color:#111;padding:10px 16px;border-radius:10px;border:0;font-weight:700;cursor:pointer;
    box-shadow:0 6px 14px rgba(255,139,0,0.12);
  }
  .btn.secondary{
    background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04);
    box-shadow:none;font-weight:600;padding:8px 12px;
  }
  .sidebar{
    background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
    border-radius:12px;padding:14px;
  }
  .stat{display:flex;justify-content:space-between;margin:10px 0;color:var(--muted);font-size:14px;}
  label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px;}
  input[type="number"]{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:inherit;}

  .notice{font-size:12px;color:#ffd6a8;background:rgba(255,191,0,0.06);padding:10px;border-radius:8px;margin-top:12px;color:#fff;}
  .footer{font-size:12px;color:var(--muted);margin-top:14px;}

  /* simple keyframe for small win flash */
  .flash{
    animation: flash 700ms ease-in-out;
  }
  @keyframes flash{
    0%{box-shadow:0 0 0px rgba(255,191,0,0);}
    50%{box-shadow:0 0 18px rgba(255,191,0,0.6);}
    100%{box-shadow:0 0 0 rgba(255,191,0,0);}
  }

  /* Age modal */
  .modal{
    position:fixed;inset:0;background:rgba(2,6,23,0.6);display:flex;align-items:center;justify-content:center;
  }
  .modal-card{
    width:420px;background:linear-gradient(180deg,#071026,#05203a);padding:22px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);
    text-align:center;color:#eaf3ff;
  }
  .modal-card p{color:var(--muted);}
  .muted-small{color:var(--muted);font-size:13px;margin-top:8px;}
</style>
</head>
<body>
<div class="container" role="application" aria-label="Demo m√°y x√®ng">
  <div class="game" id="gameArea">
    <div class="title">
      <div class="logo">SX</div>
      <div>
        <h1>SlotX ‚Äî Demo M√°y X√®ng</h1>
        <p class="lead">Ch·ªâ l√† b·∫£n demo d√πng ti·ªÅn ·∫£o. Kh√¥ng c√≥ giao d·ªãch th·∫≠t.</p>
      </div>
    </div>

    <div class="reels" aria-live="polite" aria-atomic="true">
      <div class="reel" id="reel0">üçí</div>
      <div class="reel" id="reel1">üçã</div>
      <div class="reel" id="reel2">üîî</div>
    </div>

    <div class="controls">
      <button class="btn" id="spinBtn">Quay</button>
      <button class="btn secondary" id="autoBtn">Auto 10 l·∫ßn</button>
      <div style="min-width:120px;">
        <label for="bet">C∆∞·ª£c (credit)</label>
        <input id="bet" type="number" min="1" step="1" value="5" />
      </div>

      <div style="margin-left:auto; text-align:right;">
        <div style="font-size:12px;color:var(--muted)">Credit</div>
        <div id="credits" style="font-weight:800;font-size:20px">100</div>
      </div>
    </div>

    <div id="message" class="notice" style="display:none;">B·∫°n th·∫Øng!</div>

    <div class="footer">
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <div style="color:var(--muted);font-size:13px;">Lu·∫≠t ch∆°i: 3 bi·ªÉu t∆∞·ª£ng gi·ªëng nhau = th·∫Øng l·ªõn; 2 gi·ªëng = th·∫Øng nh·ªè.</div>
      </div>
    </div>
  </div>

  <aside class="sidebar" aria-label="Th√¥ng tin">
    <div style="font-weight:700;font-size:15px">T√†i kho·∫£n</div>
    <div class="stat"><span>Credit:</span><span id="sideCredits">100</span></div>
    <div class="stat"><span>L·∫ßn ch∆°i:</span><span id="plays">0</span></div>
    <div class="stat"><span>Th·∫Øng:</span><span id="wins">0</span></div>

    <div style="margin-top:12px;">
      <label>Th·ªëng k√™ tr·∫£ th∆∞·ªüng (v√≠ d·ª•)</label>
      <div style="font-size:13px;color:var(--muted)">
        <div>3√ó bi·ªÉu t∆∞·ª£ng gi·ªëng ‚Üí nh√¢n c∆∞·ª£c √ó10</div>
        <div>2√ó bi·ªÉu t∆∞·ª£ng gi·ªëng ‚Üí nh√¢n c∆∞·ª£c √ó2</div>
      </div>
    </div>

    <div class="notice" style="margin-top:14px;">
      L∆∞u √Ω: ƒê√¢y l√† demo. Kh√¥ng d√πng cho c√° c∆∞·ª£c ti·ªÅn th·∫≠t.
    </div>

    <div style="margin-top:12px;">
      <button class="btn secondary" id="resetBtn">Reset demo</button>
    </div>
  </aside>
</div>

<!-- Age modal -->
<div class="modal" id="ageModal" role="dialog" aria-modal="true" aria-label="X√°c nh·∫≠n tu·ªïi">
  <div class="modal-card">
    <h2>X√°c nh·∫≠n tu·ªïi</h2>
    <p class="muted-small">B·∫°n ph·∫£i t·ª´ 18 tu·ªïi tr·ªü l√™n ƒë·ªÉ s·ª≠ d·ª•ng b·∫£n demo n√†y. Vui l√≤ng x√°c nh·∫≠n.</p>
    <div style="margin-top:14px;display:flex;gap:10px;justify-content:center;">
      <button class="btn" id="confirmAge">T√¥i tr√™n 18</button>
      <button class="btn secondary" id="declineAge">T√¥i d∆∞·ªõi 18</button>
    </div>
    <p class="muted-small">Demo ch·ªâ d√πng ti·ªÅn ·∫£o v√† nh·∫±m m·ª•c ƒë√≠ch h·ªçc t·∫≠p / thi·∫øt k·∫ø.</p>
  </div>
</div>

<script>
(function(){
  // Symbols and basic payout rules
  const symbols = ['üçí','üçã','üîî','‚≠ê','üíé','7Ô∏è‚É£'];
  const payouts = { // multiplier for 3-of-kind and 2-of-kind
    three: { '7Ô∏è‚É£': 50, 'üíé': 20, '‚≠ê': 15, 'üîî': 10, 'üçã': 8, 'üçí': 6 },
    two: 2
  };

  // state
  let credits = 100;
  let plays = 0, wins = 0;
  let spinning = false;
  const reelEls = [document.getElementById('reel0'), document.getElementById('reel1'), document.getElementById('reel2')];
  const spinBtn = document.getElementById('spinBtn');
  const autoBtn = document.getElementById('autoBtn');
  const betInput = document.getElementById('bet');
  const creditsEl = document.getElementById('credits');
  const sideCredits = document.getElementById('sideCredits');
  const playsEl = document.getElementById('plays');
  const winsEl = document.getElementById('wins');
  const messageEl = document.getElementById('message');
  const resetBtn = document.getElementById('resetBtn');

  function updateUI(){
    creditsEl.textContent = credits;
    sideCredits.textContent = credits;
    playsEl.textContent = plays;
    winsEl.textContent = wins;
  }
  updateUI();

  function randomSymbol(){ return symbols[Math.floor(Math.random()*symbols.length)]; }

  // Spin animation helper
  function spinOnce(bet){
    if (spinning) return;
    bet = Math.max(1, Math.floor(bet));
    if (bet > credits){
      showMessage('Kh√¥ng ƒë·ªß credit ƒë·ªÉ c∆∞·ª£c.', true);
      return;
    }
    spinning = true;
    spins = [null,null,null];
    credits -= bet;
    plays++;
    updateUI();
    // animate each reel by cycling symbols for a short time, then stop
    const durations = [900, 1300, 1700]; // ms
    const intervals = [];
    const results = [];
    reelEls.forEach((el, idx) => {
      let elapsed = 0;
      const freq = 80 + idx*20;
      intervals[idx] = setInterval(()=> {
        el.textContent = randomSymbol();
      }, freq);
      setTimeout(()=> {
        clearInterval(intervals[idx]);
        const final = randomSymbol();
        el.textContent = final;
        results[idx] = final;
        // when all results ready, evaluate
        if (results.filter(Boolean).length === reelEls.length){
          evaluateResult(results, bet);
          spinning = false;
        }
      }, durations[idx]);
    });
  }

  function evaluateResult(results, bet){
    // count occurrences
    const counts = {};
    results.forEach(s => counts[s] = (counts[s]||0) + 1);
    // check 3-of-kind
    let won = 0;
    let message = 'Kh√¥ng tr√∫ng. Th·ª≠ l·∫°i!';
    for (const sym in counts){
      if (counts[sym] === 3){
        // payout by symbol if defined else 10x
        const mul = payouts.three[sym] || 10;
        won = bet * mul;
        message = `Jackpot! 3 ${sym} ‚Äî Th·∫Øng ${won} credit`;
        break;
      } else if (counts[sym] === 2){
        const mul = payouts.two;
        won = bet * mul;
        message = `Tr√∫ng nh·ªè: 2 ${sym} ‚Äî Th·∫Øng ${won} credit`;
        // continue checking if there is a 3-of-kind elsewhere (won't happen)
      }
    }
    if (won > 0){
      credits += won;
      wins++;
      showMessage(message, false, true);
      // add visual flash on reels
      reelEls.forEach(el => { el.classList.add('flash'); setTimeout(()=> el.classList.remove('flash'),700); });
    } else {
      showMessage(message, true, false);
    }
    updateUI();
  }

  function showMessage(text, isError=false, isWin=false){
    messageEl.style.display = 'block';
    messageEl.style.background = isWin ? 'linear-gradient(90deg, rgba(0,140,255,0.08), rgba(255,191,0,0.06))' : (isError ? 'rgba(255,100,100,0.08)' : 'rgba(255,191,0,0.06)');
    messageEl.textContent = text;
    setTimeout(()=> { messageEl.style.display = 'none'; }, 2500);
  }

  spinBtn.addEventListener('click', ()=> { spinOnce(Number(betInput.value)); });

  autoBtn.addEventListener('click', ()=>{
    const times = 10;
    let i = 0;
    const run = () => {
      if (i >= times) return;
      if (credits <= 0) { showMessage('H·∫øt credit!'); return; }
      spinOnce(Number(betInput.value));
      i++;
      // wait until not spinning before next
      const wait = setInterval(()=> {
        if (!spinning){
          clearInterval(wait);
          run();
        }
      }, 150);
    };
    run();
  });

  resetBtn.addEventListener('click', ()=> {
    credits = 100; plays = 0; wins = 0;
    updateUI();
    showMessage('ƒê√£ reset demo.', false);
  });

  // Age modal
  const ageModal = document.getElementById('ageModal');
  document.getElementById('confirmAge').addEventListener('click', ()=> {
    ageModal.style.display = 'none';
  });
  document.getElementById('declineAge').addEventListener('click', ()=> {
    // if under 18, lock the page (simple behavior)
    alert('B·∫°n ph·∫£i t·ª´ 18 tu·ªïi tr·ªü l√™n ƒë·ªÉ xem n·ªôi dung n√†y. Trang s·∫Ω ƒë√≥ng.');
    window.close(); // may fail in some browsers; it's a polite attempt
    ageModal.querySelector('.modal-card').innerHTML = '<h3>Kh√¥ng ƒë·ªß tu·ªïi</h3><p class="muted-small">B·∫°n kh√¥ng ƒë∆∞·ª£c ph√©p s·ª≠ d·ª•ng b·∫£n demo n√†y.</p>';
  });

  // Accessibility: keyboard spin with Space when focus on spin button
  spinBtn.addEventListener('keydown', (e)=> {
    if (e.code === 'Space') { e.preventDefault(); spinOnce(Number(betInput.value)); }
  });

  // small safety: prevent entering extremely large bets
  betInput.addEventListener('input', ()=> {
    if (Number(betInput.value) > 9999) betInput.value = 9999;
  });
})();
</script>
</body>
</html>
